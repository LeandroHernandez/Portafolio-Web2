
.section-home {
    display: flex;
    flex-wrap: wrap;
    gap: 20px 0;
    view-timeline-name: --section-home;
    overflow: hidden;
}

.content-home {
    width: 55%;
    display: flex;
    flex-direction: column;
    justify-content: end;
    gap: 10vw;
}

.texts-home {
    margin-top: 5rem;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: .5rem;

    .h1 {
        font-size: clamp(1.7rem, 5vw, 3rem);
        
        animation-name: to-left;
        animation-timeline: --section-home;
        animation-range: exit 5% exit 50%;
    }

    .h2 {
        font-size: clamp(1.4rem, 4vw, 2rem);
        color: transparent;
        -webkit-text-stroke: 1px var(--accent);
        width: max-content;
        position: relative;

        animation-name: hide;
        animation-timeline: --section-home;
        animation-range: exit 5% exit 25%;
    }

    .h2::after {
        content: 'Frontend Developer';
        position: absolute;
        top: 0;
        left: 0;
        width: max-content;
        color: var(--accent);
        -webkit-text-stroke: 0 transparent;
        background-color: var(--primary);
        overflow: hidden;
        display: inline-block;
        white-space: nowrap;
        
        /* Mascara de revelado */
        animation: subtitle_reveal 7s linear infinite;
        mask-image: linear-gradient(to right, black 0%, black 100%);
        mask-repeat: no-repeat;
        mask-size: 0% 100%;
        mask-position: left;
    }
    
    .h2::before {
        content: '';
        position: absolute;
        top: 0;
        border-right: var(--border);
        height: 100%;
        background-color: var(--accent);
        z-index: 2;
        
        /* Cursor sigue el borde visible */
        animation: cursor_move 7s linear infinite, cursor_blink 7s linear infinite;
    }
    
    .mantra {
        margin-top: 1rem;
        display: flex;
        flex-direction: column;
        align-items: end;
        gap: 1rem;
        width: max-content;
        max-width: 100%;

        .p {
            width: 100%;
            color: var(--accent4);
            
            animation-name: hide;
            animation-timeline: --section-home;
            animation-range: exit 5% exit 25%;
        }
        
        .span {
            font-weight: 600;
            animation-name: to-top;
            animation-timeline: --section-home;
            animation-range: exit 5% exit 30%;
        }
    }
}

@keyframes subtitle_reveal {
  0%, 20% {
    mask-size: 0% 100%;
  }
  70%, 80% {
    mask-size: 100% 100%;
  }
  100% {
    mask-size: 0% 100%;
  }
}

/* Movimiento del cursor */
@keyframes cursor_move {
  0%   { left: 0%; }
  20%  { left: 0%; }
  70%  { left: 100%; }
  80%  { left: 100%; }
  100% { left: 0%; }
}

/* Parpadeo solo cuando est√° quieto */
@keyframes cursor_blink {
  0%, 9.9%, 20%, 70%, 75.1%, 100% {
    border-right: var(--border);
  }
  10%, 75% {
    border-right: none;
  }
}

.actions-home {
    display: flex;
    flex-wrap: wrap;
    gap: .7rem 1rem;

    .a-actions:first-child {
        animation-name: to-top;
        animation-timeline: --section-home;
        animation-range: exit 15% exit 35%;
    }

    .a-actions:last-child {

        .button {
            background-color: var(--primary);
            color: var(--accent);
            border: var(--border);
        }
        
        animation-name: to-bottom;
        animation-timeline: --section-home;
        animation-range: exit 15% exit 35%;
    }
}

.button {
    padding: 1.2rem 2rem;
    border: none;
    outline: none;
    border-radius: 1.2rem;
    background-color: var(--accent);
    color: var(--primary);
    font-size: 1.2rem;
    font-weight: 600;
    cursor: pointer;
}

/* .button, .li { */
.a-actions .button, .li {
    transition: .2s transform ease-in;
    
    &:hover {
        transform: scale(105%);
    }
}

.media-home {
    display: flex;
    align-items: center;
    gap: 1rem;

    width: max-content;
    
    animation-name: to-right;
    animation-timeline: --section-home;
    animation-range: exit 15% exit 30%;

    .a-media {
        border: var(--border);
        color: var(--accent);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        aspect-ratio: 1/1;
        padding: .7rem;

        .span-media {
            color: var(--accent);
            font-weight: 800;
        }
    }

    .a-media:last-child {
        color: var(--secondary);
    }
}

.picture-container {
    display: flex;
    justify-content: end;
    max-width: 45%;
    max-height: 95vh;
}

.picture-home {
    z-index: 1;
    max-width: 90%;
    overflow: hidden;
    position: relative;
    border-radius: 2rem; 

    mix-blend-mode: lighten;

    /* view-timeline-name: --picture-home; */
    animation-timeline: --section-home;
    animation-name: to-right;
    animation-range: exit 15% exit 100%;

    
    [class^="img"] {
        width: 100%;
        height: auto;
        min-height: 100%;
        position: relative;
        left: 0;
        
        transition: .2s left ease-in;
        transition-property: filter, transform, left;

        transform: translateY(15%) scale(1.3);
        
    }
    

    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url(../images/code.jpg);
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
        mix-blend-mode: lighten;
        background-color: var(--primary);
        z-index: 1;
        opacity: 0;

        transition: .3s opacity ease-in;
        box-shadow: inset 0px 2.5rem 2rem .5rem var(--primary);
        
    }

    &::after {
        content: '';
        position: absolute;
        bottom: -5%;
        left: 50%;
        width: 100%;
        height: 100%;
        transform: translateX(-50%) scaleX(-1) translateY(40%);
        background-image: url(../images/buho.png);
        background-repeat: no-repeat;
        background-size: 100%;
        background-position: center;
        z-index: 10;
        opacity: 0;

        transition: .2s ease-in;
        transition-property: opacity, transform;
        mask-image: linear-gradient(
            black 80%,
            transparent
        );
    }
    
    
    &:hover {
        
        [class^="img"] {
            filter: blur(.4rem);
            /* width: 100%; */
            /* left: 0; */

            transform: translateY(0) scale(1);

            transition: .4s filter .3s ease-out, .2s transform ease-in, .2s left ease-in;
        }

        &::before {
            opacity: 1;
            transition: .3s opacity .1s ease-in;
        }
        &::after {
            opacity: 1;
            transform: translateX(-50%) scaleX(-1);
        }
    }
}

@media (max-width: 1000px) {

    .main:has(input:checked) {

        .picture-home {
            z-index: -1;
        }
    } 

    .section-home {
        justify-content: center;
    }
    
    .content-home {
        width: 100%;
        padding: 0;
    }
    
    .content-home, .picture-container {
        justify-content: center;
        max-width: 90%;
        .picture-home {
            transform: translateY(0);
            width: 100%;
        }
    }


}
